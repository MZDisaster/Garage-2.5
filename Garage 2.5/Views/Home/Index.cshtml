@model IEnumerable<Garage_2._5.Models.VehicleViewModel>

@{
    ViewBag.Title = "Index";
}
<!--@@using (Ajax.BeginForm("Index", null, new AjaxOptions
                                {
                                    InsertionMode = InsertionMode.Replace,
                                    UpdateTargetId = "OurTableDiv",
                                    HttpMethod = "GET"
                                }, htmlAttributes: new { @@class = "form-inline" }))
{
    <hr />
    <div class="form-group">
        @@Html.TextBox("RegNr", null, new { @@class = "form-control" })
        <button type="submit" class="btn btn-default">Search</button>
        @@Html.DropDownList("VehicleTypeId")
    </div>
}-->
<div id="OurTableDiv" ng-controller="IndexController">
    <h2>Index</h2>

    <p>
        @Html.ActionLink("Detailed list", "DetailedList")
        @Html.ActionLink("Create new Vehicle", "Create")
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    Name
                </th>
                <th>
                    RegNr
                </th>
                <th>
                    Type
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="v in Vehicles">
                <td>
                    {{v.Owner}}
                </td>
                <td>
                    {{v.RegNr}}
                </td>
                <td>
                    {{v.VehicleType}}
                </td>
                <td>
                    <a href="/Edit/{{v.Id}}">Edit</a>
                    <a href="/Details/{{v.Id}}">Details</a>
                    <a href="/Delete/{{v.Id}}">Delete</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>